
<style type="text/css">
   #error_logs tr.odd {
      background-color: #fefefe;
   }

   #error_logs tr.even {
      background-color: #f5f5f5;
   }

   table#error_logs {
      border: 1px solid #555;
      width: 100%;
   }
</style>

<h1>Error logs</h1>

<div align="right">
   <%= button_to "Mark all as viewed", :action => 'set_all_viewed' %>
</div>

<table id="error_logs">
   <% @error_logs.each_pair do |hash,logs| %>
      <% error_log = logs.first %>
      <tr class="<%= cycle('odd','even') %>">
         <td><%= error_log.category %></td>
         <td>
            <b><%= error_log.error %></b> (<%= error_log.created_at %>))<br />
            <% if logs.count > 1 %>
               Repeated <b><%= logs.count %></b> times.<br />
            <% end %>
            <pre><%= error_log.backtrace %></pre>
         </tr>
      </tr>
   <% end %>
</table>
